<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional E-Prescription Print Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .print-button {
            background-color: #3182ce;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .print-button:hover {
            background-color: #2c5aa0;
        }
        .prescription-content {
            border: 2px solid #000;
            padding: 8px;
            margin: 20px 0;
            background: white;
            display: flex;
            flex-direction: column;
            height: calc(100vh - 100px);
        }
        .clinic-header {
            text-align: center;
            border-bottom: 2px solid #000;
            padding-bottom: 4px;
            margin-bottom: 6px;
            flex-shrink: 0;
        }
        .clinic-name {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 2px;
            letter-spacing: 0.5px;
        }
        .clinic-details {
            font-size: 8px;
            margin-bottom: 1px;
            font-weight: 500;
        }
        .prescription-title {
            text-align: center;
            font-size: 12px;
            font-weight: bold;
            margin: 4px 0;
            text-decoration: underline;
            letter-spacing: 1px;
            flex-shrink: 0;
        }
        .prescription-meta {
            display: flex;
            justify-content: space-between;
            font-size: 8px;
            margin-bottom: 4px;
            flex-shrink: 0;
        }
        .content-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 3px;
            overflow: hidden;
        }
        .info-section {
            border: 1px solid #000;
            padding: 3px;
            border-radius: 0;
            flex-shrink: 0;
        }
        .section-title {
            font-weight: bold;
            margin-bottom: 2px;
            font-size: 9px;
            text-decoration: underline;
            color: #000;
        }
        .patient-doctor-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 6px;
            font-size: 7px;
        }
        .patient-info, .doctor-info {
            font-size: 7px;
            margin-bottom: 1px;
        }
        .complaints-list, .diagnosis-list, .tests-list {
            font-size: 7px;
            margin: 0;
            padding-left: 10px;
        }
        .complaints-list li, .diagnosis-list li, .tests-list li {
            margin-bottom: 0.5px;
        }
        .medications-container {
            max-height: 100px;
            overflow-y: auto;
        }
        .medication-item {
            border: 1px solid #666;
            padding: 2px;
            margin-bottom: 1px;
            border-radius: 0;
            background: #f9f9f9;
        }
        .medication-name {
            font-weight: bold;
            margin-bottom: 1px;
            font-size: 8px;
            color: #000;
        }
        .medication-details {
            font-size: 6px;
            margin-bottom: 0.5px;
            display: inline-block;
            margin-right: 6px;
        }
        .follow-up-text {
            font-size: 7px;
            line-height: 1.3;
        }
        .signature-section {
            margin-top: 6px;
            text-align: right;
            flex-shrink: 0;
            border-top: 1px solid #000;
            padding-top: 4px;
        }
        .signature-line {
            margin-bottom: 12px;
            border-bottom: 1px solid #000;
            width: 120px;
            margin-left: auto;
            height: 12px;
        }
        .doctor-signature {
            font-size: 8px;
            margin-top: 1px;
            font-weight: bold;
        }
        .doctor-details {
            font-size: 7px;
            margin-top: 1px;
        }
        @media print {
            @page {
                size: A4;
                margin: 0.3in;
            }
            body { 
                margin: 0; 
                padding: 0; 
                font-family: 'Times New Roman', serif;
                font-size: 9px;
                line-height: 1.2;
                color: #000;
                background: white;
            }
            .no-print { display: none !important; }
            .container {
                box-shadow: none;
                border-radius: 0;
                padding: 0;
            }
            .prescription-content {
                margin: 0;
                padding: 8px;
                height: calc(100vh - 16px);
                box-sizing: border-box;
                border: 2px solid #000;
                background: white;
                display: flex;
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>E-Prescription Print Test</h1>
        
        <div class="test-section">
            <h3>Professional E-Prescription Print Test</h3>
            <ol>
                <li>Click the "Test Professional Print" button below</li>
                <li>This will open the print dialog with the new professional layout</li>
                <li>Check the preview - it should fit on one page with professional formatting</li>
                <li>All content should be visible: clinic info, patient/doctor info, complaints, diagnosis, medications, lab tests, and signature</li>
            </ol>
        </div>

        <button class="print-button no-print" onclick="testPrint()">Test Professional Print</button>

        <div id="printable-prescription" class="prescription-content">
            <!-- Clinic Header -->
            <div class="clinic-header">
                <div class="clinic-name">HIMSHIKHA NURSING HOME</div>
                <div class="clinic-details">Plot No 1,Near CRPF Camp Himshika,Pinjore</div>
                <div class="clinic-details">Panchkula | Phone: +91-9876543210</div>
            </div>

            <!-- Prescription Header -->
            <div>
                <div class="prescription-title">PRESCRIPTION</div>
                <div class="prescription-meta">
                    <span><strong>Date:</strong> 12/20/2024</span>
                    <span><strong>Prescription ID:</strong> RX-2024-001</span>
                </div>
            </div>

            <!-- Content Section -->
            <div class="content-section">
                <!-- Patient & Doctor Information -->
                <div class="info-section">
                    <div class="section-title">Patient & Doctor Information</div>
                    <div class="patient-doctor-grid">
                        <div class="patient-info">
                            <div><strong>Patient:</strong> John Doe Smith</div>
                            <div><strong>Age:</strong> 35 years | <strong>Gender:</strong> Male</div>
                            <div><strong>Contact:</strong> +91-9876543210</div>
                        </div>
                        <div class="doctor-info">
                            <div><strong>Dr.</strong> Jane Smith</div>
                            <div><strong>Specialization:</strong> General Medicine</div>
                            <div><strong>Reg. No:</strong> REG-12345</div>
                        </div>
                    </div>
                </div>

                <!-- Chief Complaints -->
                <div class="info-section">
                    <div class="section-title">Chief Complaints</div>
                    <ul class="complaints-list">
                        <li>Fever and headache for 3 days</li>
                        <li>Body aches and fatigue</li>
                        <li>Loss of appetite</li>
                    </ul>
                </div>

                <!-- Diagnosis -->
                <div class="info-section">
                    <div class="section-title">Diagnosis</div>
                    <ul class="diagnosis-list">
                        <li>Viral fever</li>
                        <li>Mild dehydration</li>
                    </ul>
                </div>

                <!-- Medications -->
                <div class="info-section">
                    <div class="section-title">Medications</div>
                    <div class="medications-container">
                        <div class="medication-item">
                            <div class="medication-name">Paracetamol 500mg</div>
                            <span class="medication-details"><strong>Dosage:</strong> 1 tablet</span>
                            <span class="medication-details"><strong>When:</strong> After Food</span>
                            <span class="medication-details"><strong>Duration:</strong> 5 days</span>
                            <span class="medication-details"><strong>Instructions:</strong> Take with food</span>
                        </div>
                        <div class="medication-item">
                            <div class="medication-name">Ibuprofen 400mg</div>
                            <span class="medication-details"><strong>Dosage:</strong> 1 tablet</span>
                            <span class="medication-details"><strong>When:</strong> After Food</span>
                            <span class="medication-details"><strong>Duration:</strong> 3 days</span>
                            <span class="medication-details"><strong>Instructions:</strong> Take after meals</span>
                        </div>
                    </div>
                </div>

                <!-- Lab Tests -->
                <div class="info-section">
                    <div class="section-title">Lab Tests</div>
                    <ul class="tests-list">
                        <li>Complete Blood Count (CBC)</li>
                        <li>Blood Sugar (Fasting)</li>
                    </ul>
                </div>

                <!-- Follow-up Instructions -->
                <div class="info-section">
                    <div class="section-title">Follow-up Instructions</div>
                    <div class="follow-up-text">
                        Please return for follow-up in 3 days if symptoms persist. 
                        Drink plenty of fluids and get adequate rest.
                    </div>
                </div>
            </div>

            <!-- Doctor Signature -->
            <div class="signature-section">
                <div class="signature-line"></div>
                <div class="doctor-signature">Dr. Jane Smith</div>
                <div class="doctor-details">General Medicine</div>
                <div class="doctor-details">Registration No: REG-12345</div>
            </div>
        </div>

        <div class="test-section no-print">
            <h3>New Professional Features:</h3>
            <ul>
                <li>✓ <strong>One-page layout</strong> - All content fits on a single A4 page</li>
                <li>✓ <strong>Professional borders</strong> - Thick black border around entire prescription</li>
                <li>✓ <strong>Compact design</strong> - Optimized spacing and font sizes</li>
                <li>✓ <strong>Combined sections</strong> - Patient and doctor info in one section</li>
                <li>✓ <strong>Structured lists</strong> - Proper bullet points for complaints, diagnosis, tests</li>
                <li>✓ <strong>Medication containers</strong> - Scrollable area for multiple medications</li>
                <li>✓ <strong>Professional typography</strong> - Times New Roman font for medical documents</li>
                <li>✓ <strong>Clean signature area</strong> - Proper signature line and doctor details</li>
                <li>✓ <strong>Print-optimized</strong> - A4 page size with proper margins</li>
                <li>✓ <strong>All content included</strong> - Every section from the prescription form</li>
            </ul>
        </div>
    </div>

    <script>
        function testPrint() {
            const printContent = document.getElementById('printable-prescription').innerHTML;
            const originalContent = document.body.innerHTML;
            
            document.body.innerHTML = `
                <div style="font-family: 'Times New Roman', serif; padding: 20px;">
                    ${printContent}
                </div>
            `;
            
            window.print();
            document.body.innerHTML = originalContent;
        }
    </script>
</body>
</html>
